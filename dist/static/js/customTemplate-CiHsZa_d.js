import{useColumns as $}from"./columns-CK8mi2de.js";import{s as D,d as R}from"./generator-BV8EWXvD.js";import{d as A,m as i,c as F,b as a,h as o,u as e,r as p,o as G,e as I,f as r,G as L,E as k}from"./index-DfmCOzbx.js";const M={class:"dialog-footer"},J=A({name:"customTemplate",__name:"customTemplate",setup(W){const y=i(),{loading:h,columns:w,dataList:N,pagination:m,loadingConfig:U,adaptiveConfig:E,onSizeChange:P,onCurrentChange:_,blur:f}=$(),V=i(""),u=i(!1),v=i({templateName:"",templateValue:"",creator:""});let n=i(v);function S(){u.value=!1,D(n.value).then(()=>{f(),k({type:"success",showClose:!0,message:"保存成功"})})}function z(){u.value=!0,n=i(v)}function x(d,l){u.value=!0,n=i(d)}function B(d,l){R([d.id]).then(()=>{f(),k({type:"success",showClose:!0,message:"删除成功"})})}return(d,l)=>{const c=p("el-input"),g=p("el-form-item"),O=p("el-form"),s=p("el-button"),T=p("pure-table");return G(),F("div",null,[a(e(L),{modelValue:u.value,"onUpdate:modelValue":l[4]||(l[4]=t=>u.value=t),title:"Tips",width:"800",draggable:""},{footer:o(()=>[I("div",M,[a(s,{onClick:l[3]||(l[3]=t=>u.value=!1)},{default:o(()=>[r("Cancel")]),_:1}),a(s,{type:"primary",onClick:S},{default:o(()=>[r(" Confirm ")]),_:1})])]),default:o(()=>[a(O,{model:e(n),"label-width":"auto","label-position":"right"},{default:o(()=>[a(g,{label:"templateName"},{default:o(()=>[a(c,{modelValue:e(n).templateName,"onUpdate:modelValue":l[0]||(l[0]=t=>e(n).templateName=t)},null,8,["modelValue"])]),_:1}),a(g,{label:"creator"},{default:o(()=>[a(c,{modelValue:e(n).creator,"onUpdate:modelValue":l[1]||(l[1]=t=>e(n).creator=t)},null,8,["modelValue"])]),_:1}),a(g,{label:"templateValue"},{default:o(()=>[a(c,{type:"textarea",modelValue:e(n).templateValue,"onUpdate:modelValue":l[2]||(l[2]=t=>e(n).templateValue=t),rows:"10"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(c,{modelValue:V.value,"onUpdate:modelValue":l[5]||(l[5]=t=>V.value=t),class:"flow-search",placeholder:"",onChange:e(_)},null,8,["modelValue","onChange"]),a(s,{type:"primary",class:"search-button",onClick:e(f)},{default:o(()=>[r("查询")]),_:1},8,["onClick"]),a(s,{type:"primary",class:"search-button",onClick:z},{default:o(()=>[r("新增")]),_:1}),a(T,{ref_key:"tableRef",ref:y,border:"",adaptive:"",adaptiveConfig:e(E),"row-key":"id",alignWhole:"center",showOverflowfooltip:"",loading:e(h),"loading-config":e(U),data:e(N).slice((e(m).currentPage-1)*e(m).pageSize,e(m).currentPage*e(m).pageSize),columns:e(w),pagination:e(m),onPageSizeChange:e(P),onPageCurrentChange:e(_)},{operation:o(({row:t,index:C})=>[a(s,{class:"reset-margin",link:"",type:"primary",onClick:b=>x(t,C)},{default:o(()=>[r(" 修改 ")]),_:2},1032,["onClick"]),a(s,{class:"reset-margin",link:"",type:"primary",onClick:b=>d.onOpenNewEdit(t,C)},{default:o(()=>[r(" 模板详情 ")]),_:2},1032,["onClick"]),a(s,{class:"reset-margin",link:"",type:"primary",onClick:b=>B(t,C)},{default:o(()=>[r(" 删除 ")]),_:2},1032,["onClick"])]),_:1},8,["adaptiveConfig","loading","loading-config","data","columns","pagination","onPageSizeChange","onPageCurrentChange"])])}}});export{J as default};
